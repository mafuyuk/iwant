<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <link href="assets/css/main.css" rel="stylesheet">
  <title>Megaptailor</title>

  <!-- video-js.min.css -->
  <link href="assets/vendor/video-js.min.css" rel="stylesheet">
  <!-- video.js -->
  <script src="assets/vendor/video.min.js"></script>
  <!-- Dash.js -->
  <script src="assets/vendor/dash.all.min.js"></script>
  <!-- videojs-contrib-dash script -->
  <script src="assets/vendor/videojs-dash.min.js"></script>
</head>

<body>
<!--<script>-->
  <!--const dirPathKey = 'DIR_PATH';-->

  <!--function setDirPath() {-->
    <!--const path = document.getElementById('path').value;-->
    <!--localStorage.setItem(dirPathKey, path);-->
  <!--}-->
<!--</script>-->
<!--<form>-->
  <!--<p>動画のパスを入力してください<br><input type="text" id="path"></p>-->
  <!--<p><input type="submit" value="送信する" onClick="setDirPath()"></p>-->
<!--</form>-->


<!--<div id="video"></div>-->
<!--<script>-->
  <!--require('./assets/js/renderer.js');-->
<!--</script>-->


<video id=example-video width=640 height=360 class="video-js vjs-default-skin" controls></video>


<script>
  const player = videojs('example-video');
  player.ready(function() {
    player.src({
      src: 'https://s3.amazonaws.com/media-convert-iwant/encode/test.mpd',
      type: 'application/dash+xml'
    });

    player.play();
  });

  var myCustomCallback = function(player, mediaPlayer) {
    // Log MediaPlayer messages through video.js
    if (videojs && videojs.log) {
      mediaPlayer.getDebug().setLogToBrowserConsole(false);
      mediaPlayer.on('log', function(event) {
        videojs.log(event.message);
      });
    }
  };

  videojs.Html5DashJS.hook('beforeinitialize', myCustomCallback);
</script>

</body>
</html>
